generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model users {
  id        String   @id @default(auto()) @map("_id") @db.ObjectId
  name      String
  phone     String   @unique
  password  String
  createdAt DateTime @default(now())
  updatedAt DateTime @default(now()) @updatedAt

  @@map("users")
}

model categories {
  id        String       @id @default(auto()) @map("_id") @db.ObjectId
  name      String
  parentId  String?      @db.ObjectId
   imageUrl  String?  
  comment   String?
  createdAt DateTime?    @default(now())
  updatedAt DateTime?    @default(now()) @updatedAt
  parent    categories?  @relation("categoriesTocategories", fields: [parentId], references: [id], onDelete: NoAction, onUpdate: NoAction)
  children  categories[] @relation("categoriesTocategories")

  @@map("categories")
}

model products {
  id                           String @id @default(auto()) @map("_id") @db.ObjectId

  name                         String
  brand                        String?
  categoryIds                  String[]  @default([]) @db.ObjectId
  originalPrice                Float?
  discountedPrice              Float?
  discountPercentage           Int?
  priceIncludesTax             Boolean?
  shippingIncluded             Boolean?
  shippingCalculatedAtCheckout Boolean?
  storePurchaseOnly            Boolean?
  seaterCount                  Int?
  color                        String?
  material                     String?
  warrantyPeriod               String?
  delivery                     String?
  installation                 String?
  stockStatus                  String?
  note                         String?
  productCareInstructions      String?
  returnAndCancellationPolicy  String?
  stylePincodePrompt           Boolean?
  imageUrls                    String[]  @default([])
  features                     Json?
  status                       String    @default("active")
  createdAt                    DateTime? @default(now())
  updatedAt                    DateTime? @default(now()) @updatedAt

  @@map("products")
}
